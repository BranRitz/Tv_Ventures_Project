{% extends 'base.html' %}

{% block content_top %}
<h1>{% block title %}Subscribers{% endblock %}</h1>
{% endblock %}

{% block content %}
<h3><a href='/add-subscriber'>Add New Subscriber</a></h3>

<h3>Subscribers</h3>
    <b>Search Subscribers</b><br>
    <form action="/subscribers" method="post">
        <label for="fnameSearch">First Name:</label>
        <input type="search" id="fnameSearch" name="fname"><br>
        <label for="lnameSearch">Last Name:</label>
        <input type="search" id="lnameSearch" name="lname"><br>
        <label for="zipcodeSearch">Zip Code:</label>
        <input type="search" id="zipcodeSearch" name="zipcode"><br>
        <button type="submit" value="Submit">Search</button>
    </form>
    <input type='button' name='clearSearch' value='Clear Search' onclick="window.location='/subscribers'">
    <br><br>

    <table border='1'>
        <thead>
            <th>ID</th>
            <th>Phone Number</th>
            <th>Postal Code</th>
            <th>Installation ID</th>
            <th>Monthly Watch Time (mins)</th>
            <th>Age</th>
            <th>Gender</th>
            <th>First Name</th>
            <th>Last Name</th>
        </thead>
        <tbody>
          {% for r in rows %}
          <tr>
              <td> {{ r[0] }}</td>
              <td> {{ r[1] }}</td>
              <td> {{ r[2] }}</td>
              <td> {{ r[3] }}</td>
              <td> {{ r[4] }}</td>
              <td> {{ r[5] }}</td>
              <td> {{ r[6] }}</td>
              <td> {{ r[7] }}</td>
              <td> {{ r[8] }}</td>

            <td> <input type='button' name='updateSubscriber' value='update' onclick="window.location = '/update-subscriber/{{r[0]}}'"> </td>
            <td> <input type='button' name='deleteSubscriber' value='delete' onclick="window.location = '/delete-subscriber/{{r[0]}}'"> </td>

      </tr>
      {% endfor %}
    </tbody>
</table>
{% endblock %}
